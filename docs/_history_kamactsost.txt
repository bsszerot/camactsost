
-- КАМАктСоСт БеССт - Концентратор Анализатор Монитор Фктивностей Состояний Статистик Белонина Сергея Станиславовича --
-- выделен из моего криптоагрегатора в отдельный продукт 20250320, функционал в криптоагрегаторе отключен --
-- история разработки --

Содержание:

- общая архитектура и модули - выносим отделоьно
- история версий продукта

==========================================================================================================
==========================================================================================================
=== ТЕКУЩИЙ (обратной хронологии) ФОРМАТ ФИКСИРОВАНИЯ ИСТОРИИ с 2025-03-20
==========================================================================================================
==========================================================================================================

20250417 - lib/lib_camactsost_pg_monitor_v.0.27.pl            - добавлены ссылки на базовые продукты в foother WEB форм

20250417 - lib/lib_camactsost_pg_monitor_v.0.26.pl            - изменён порядок вкладок статистик объектов
                                                              - в функции print_stat_snap_filters в список объектов добавлены базы кластера
           cgi/tools_pg_monitor_stat_objects_io_v.0.4.pl      - изменён порядок вкладок статистик объектов
                                                              - добавлен вызов табличной формы графика статистики
                                                              - для all_tables в режиме диапазонов добавлен вывод времени каждого снапшота
                                                              - добавлено целевое представление текущщее, снапшота и диапазона для ввода - вывода таблиц и индексов, и статистики индексоыв. Процедуры и транзакции пока только текущие
           cgi/graph_pg_snap_stat_field_v.0.2.pl              - добавлно построение графиков для статистик объектов - индексов, ввода - вывода таблиц и индексов, и подсистем - БД, bgwriter, WAL. Всего 74 сатсистики
                                                              - реализована дополнительная невидимая линия "=1", которая убирает сбой, если по основной линии получены только нули
           cgi/tools_pg_monitor_stat_subsys_v.0.7.pl          - реализован вывод для текущего момента,ю снапшота и диапазона, для последнего - с графикой
 
20250417 - lib/lib_camactsost_pg_monitor_v.0.25.pl            - в блок JS добавлена функция обработки renew_db_status_page_stat() для уточнения фильтров выборки модуля статистик снапшотов
00:07                                                         - сам блок уточняющих фильтров выборки модуля статистик снапшотов вынесен в библиотечную функцию print_stat_snap_filters()
10:03                                                         - добавлены поля выбора владельца, включения/выключения графического и табличного вывода
16:17                                                         - добавлены общие функции сохранения скрытых параметров print_hidden_variable_top_activity() и print_hidden_variable_snaphot_history()
19:59                                                         - общие функции из lib_camactsost_common_v.0.41.pl перенесены в lib_camactsost_pg_monitor_v.0.25.pl
           cgi/tools_pg_monitor_stat_objects_io_v.0.3.pl      - добавлен блок уточнения фильтров выборки модуля статистик снапшотов, вынесен из модуля в общую библиотечную фуникцию
                                                              - для all_tables добавлено табличное отображение с учётом фильтров - текущее, выбранный snap_id, диапазон snap_id
                                                              - для all_tables добавлено графическое представление части полей
                                                              - vd3 добавлен вызов модуля графики с отображением в табличной форме
           cgi/_graph_pg_snap_stat_field_v.0.1.pl             - создан модуль построения графиков истории снапшотов
                                                              - vd3 реализовано отображение в табличной форме
           cgi/tools_pg_monitor_config_v.0.7.pl               - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_current_locks_v.0.4.pl        - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_current_sessions_v.0.4.pl     - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_objects_v.0.7.pl              - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_stat_progress_v.0.2.pl        - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_stat_subsys_v.0.6.pl          - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_TA_list_v.0.5.pl              - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_TA_query_v.0.8.pl             - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_TA_SAH_v.0.7.pl               - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_TA_session_v.0.3.pl           - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_TA_WS_v.0.8.pl                - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor
           cgi/tools_pg_monitor_v.0.2.pl                      - убрана ссылка на lib_camactsost_common, теперь эти функции в общем файле lib_camactsost_pg_monitor


20250411 - lib/lib_camactsost_pg_monitor_v.0.24.pl            - при смене корневой вкладки, не равной TOP Activity, принудительно включаются отображения is_user_backends, is_backgrounds, is_extensions
                                                              - в JS функцию renew_db_status_page добавлен параметр v_ext_cgi_parameters, позволяющий передавать при обновлении произвольные дополнительные аргумнеты,
                                                                но вызов должен быть после сформированной подстроки таких аргументов
                                                              - актуализированы добавлением пустого параметра в конце вызовы onclick onsubmit для SAH и WS - это одна функция
                                                              - параметры, передаваемые в JS функицю как $pv{...} теперь обрамлены в '$pv{...}' - в результате ушла плавающая ошибка необновления страницы
                                                              - переделаны на по умолчаниу источник данных ds_type для SAH и WS на DB - хранилище расширений WS, накапливая данные, становится очень медленным
                                                              - ds_type иногда непонятно откуда выплывает undefined, пока не нашёл откуда, но выставил при таком значении менять на DB
           cgi/tools_pg_monitor_stat_subsys_v.0.5.pl          - добавлена первой вкладкой статистика database
           cgi/tools_pg_monitor_stat_objects_io_v.0.2.pl      - добавлен блок уточнения фильтров выборки модуля AWR


20250409 - SQL/kamactsost_create_tables_v.0.2_20250409_01.sql - добавлен блок представлений для расчёта дельт AWR срезов - bgwriter, wal, database, tables, iotables, indexes, ioindexes
                                                                добавлены представления, суммирующие данные за каждый срез для database, tables, iotables, indexes, ioindexes
           lib/lib_camactsost_pg_monitor_v.0.23.pl            - актуализирована функция отображения вкладок с правильным количеством полей в ссылках
           cgi/tools_pg_monitor_stat_subsys_v.0.4.pl          - реализовано отображение суммарной строки
           cgi/tools_pg_monitor_stat_objects_io_v.0.1.pl      - реализовано отображение текущих данных таблиц - источников
           cgi/tools_pg_monitor_config_v.0.6.pl               - реализовано отображение суммарной строки
           cgi/tools_pg_monitor_objects_v.0.6.pl              - добавлена вкладка схем, реализовано отображение суммарной строки
           cgi/tools_pg_monitor_stat_progress_v.0.1.pl        - доработка недочётов без изменения версии

20250407 - lib/lib_camactsost_pg_monitor_v.0.22.pl            - актуализированы функции отображения вкладок, перекомпановны вкладки верхнего уровня
           cgi/tools_pg_monitor_stat_progress_v.0.1.pl        - первая версия модуля отображения прогресса операций
           cgi/tools_pg_monitor_config_v.0.5.pl               - добавлена вкладка пространств имен / схем
           cgi/tools_pg_monitor_stat_subsys_v.0.4.pl          - наполнены вкладки статистик подсистем - только текущие значения таблиц
           cgi/tools_pg_monitor_objects_v.0.5.pl              - выправлена передача полного списка параметров при открытии одного обьекта

----------------------------
версия 1.0 (релиз) - дорабатывается
----------------------------

??? !!! довыгрузить SQL

20250320 - bin/start_PG_stats_collector.sh                 - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           lib/lib_camactsost_common_v.0.41.pl             - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           lib/lib_camactsost_pg_monitor_v.0.20.pl         - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           lib/lib_common_func.pl                          - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/_graph_pg_SAH_top_activity_v.0.8.pl         - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/_graph_pg_WS_top_activity_v.0.4.pl          - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_config_v.0.3.pl            - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_config_v.0.4.pl            - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_current_locks_v.0.2.pl     - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_current_locks_v.0.3.pl     - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_current_sessions_v.0.2.pl  - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_current_sessions_v.0.3.pl  - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_objects_v.0.3.pl           - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_objects_v.0.4.pl           - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_stat_subsys_v.0.2.pl       - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_stat_subsys_v.0.3.pl       - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_list_v.0.3.pl           - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_list_v.0.4.pl           - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_query_v.0.7.pl          - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_SAH_v.0.6.pl            - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_SAH_v.0.7.pl            - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_session_v.0.2.pl        - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_session_v.0.3.pl        - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_WS_v.0.6.pl             - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_TA_WS_v.0.7.pl             - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           cgi/tools_pg_monitor_v.0.1.pl                   - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта
           camactsost_create_tables_v.0.34_20250320_01.sql - модуль переработан под выделение в отдельный продукт, нумерация модуля сохранена с КрАгрАн БеССт до выделения продукта







